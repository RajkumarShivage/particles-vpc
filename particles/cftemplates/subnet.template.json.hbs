{{#layout}}
  {{{parameter 'module:particles-common-core' 'cidr_range' logicalId="SubnetCidr"}}}
  {{{parameter 'availability_zone' logicalId="AvailabilityZone"}}}
  {{{parameter 'vpc_id' logicalId="VpcId"}}}
  {{{parameter 'route_table_id' logicalId="RouteTableId"}}}
  {{{parameter 'name_tag' logicalId="NameTag"}}}

  {{{
    condition 'not_default_route_table'
    logicalId="NotDefaultRouteTableCond"
    routeTableLogicalId="RouteTableId"
  }}}

  {{{condition 'not_default_az' logicalId="NotDefaultAZCond" }}}
  {{{condition 'is_default_az' logicalId="IsDefaultAZCond" }}}


  {{{
    resource 'subnet'
    logicalId="Subnet"
    cidrLogicalId="SubnetCidr"
    notDefaultAZCond="NotDefaultAZCond"
    azLogicalId="AvailabilityZone"
    vpcIdLogicalId="VpcId"
    nameTagLogicalId="NameTag"
  }}}

  {{{
    resource 'route_table_association'
    logicalId="RouteTableAssociation"
    notDefaultRouteTableCond="NotDefaultRouteTableCond"
    routeTableLogicalId="RouteTableId"
    subnetLogicalId="Subnet"
  }}}

  {{{output 'subnet_id' logicalId="SubnetId"}}}
  {{{output 'availability_zone' logicalId="AvailabilityZone"}}}

{{/layout}}
